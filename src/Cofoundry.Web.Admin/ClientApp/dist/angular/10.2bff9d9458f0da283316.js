(self.webpackChunkangular=self.webpackChunkangular||[]).push([[10],{5010:(t,n,e)=>{"use strict";e.r(n),e.d(n,{UsersModule:()=>$});var o=e(1116),i=e(9455),r=e(5398),a=e(5366),s=e(2693);let c=(()=>{class t{constructor(t,n){this.baseUrl=t,this.http=n}resolve(t){const n=t.paramMap.get("id");return this.http.get(`${this.baseUrl}/api/usersApi/getById?userId=${n}`)}}return t.\u0275fac=function(n){return new(n||t)(a.LFG(r.C),a.LFG(s.eN))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac}),t})();var l=e(2767),u=e(6728),g=e(8971),p=e(6594),d=e(1524),z=e(1318),m=e(4375),h=e(1843),Z=e(3776),f=e(6252),T=e(4897),b=e(7787),q=e(5095),A=e(5728);function _(t,n){if(1&t&&a._UZ(0,"nz-option",20),2&t){const t=a.oxw().$implicit;a.Q6J("nzValue",t.roleId)("nzLabel",t.title)}}function C(t,n){if(1&t&&(a.ynx(0),a.YNc(1,_,1,2,"nz-option",19),a.BQk()),2&t){const t=a.oxw(2);a.xp6(1),a.Q6J("ngIf",!t.isLoading)}}function y(t,n){1&t&&(a.TgZ(0,"nz-option",21),a._UZ(1,"i",22),a._uU(2," Loading Data... "),a.qZA())}function U(t,n){if(1&t&&(a.TgZ(0,"nz-card",6),a.TgZ(1,"nz-form-item"),a.TgZ(2,"nz-form-label",7),a._uU(3,"Username"),a.qZA(),a.TgZ(4,"nz-form-control",8),a._UZ(5,"input",9),a.qZA(),a.qZA(),a.TgZ(6,"nz-form-item"),a.TgZ(7,"nz-form-label",7),a._uU(8,"First Name"),a.qZA(),a.TgZ(9,"nz-form-control",8),a._UZ(10,"input",10),a.qZA(),a.qZA(),a.TgZ(11,"nz-form-item"),a.TgZ(12,"nz-form-label",7),a._uU(13,"Last Name"),a.qZA(),a.TgZ(14,"nz-form-control",11),a._UZ(15,"input",12),a.qZA(),a.qZA(),a.TgZ(16,"nz-form-item"),a.TgZ(17,"nz-form-label",7),a._uU(18,"Email"),a.qZA(),a.TgZ(19,"nz-form-control",13),a._UZ(20,"input",14),a.qZA(),a.qZA(),a.TgZ(21,"nz-form-item",15),a.TgZ(22,"nz-form-label",7),a._uU(23,"Role"),a.qZA(),a.TgZ(24,"nz-form-control"),a.TgZ(25,"nz-select",16),a.YNc(26,C,2,1,"ng-container",17),a.YNc(27,y,3,0,"nz-option",18),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t){const t=a.oxw();a.xp6(26),a.Q6J("ngForOf",t.rolesList),a.xp6(1),a.Q6J("ngIf",t.isLoading)}}function N(t,n){if(1&t){const t=a.EpF();a.TgZ(0,"button",23),a.NdJ("click",function(){return a.CHM(t),a.oxw().create()}),a._uU(1,"Create"),a.qZA()}}function O(t,n){if(1&t){const t=a.EpF();a.TgZ(0,"button",24),a.NdJ("click",function(){return a.CHM(t),a.oxw().back()}),a._uU(1,"Cancel"),a.qZA()}}let x=(()=>{class t{constructor(t,n,e,o,i){this.baseUrl=t,this.notificationsService=n,this.router=e,this.fb=o,this.http=i,this.isLoading=!1,this.rolesList=[]}ngOnInit(){this.form=this.fb.group({userId:[0,[u.kI.required]],username:[null,[u.kI.required]],firstName:[null,[u.kI.required]],lastName:[null,[u.kI.required]],email:[null,[u.kI.required]],role:this.fb.group({roleId:[null,[u.kI.required]]})}),this.fetchRoles()}create(){this.isLoading=!0,this.http.post(`${this.baseUrl}/api/usersApi/add`,this.form.value).subscribe({next:t=>{this.notificationsService.success("Success","User added"),this.back()},error:t=>{console.log(t),this.notificationsService.error("Error",t)},complete:()=>this.isLoading=!1})}back(){this.router.navigate(["users"])}fetchRoles(){this.isLoading=!0,this.http.post(`${this.baseUrl}/api/rolesApi/getAll`,{excludeAnonymous:!0}).subscribe({next:t=>{this.rolesList=t.items},error:t=>{console.log(t)},complete:()=>this.isLoading=!1})}}return t.\u0275fac=function(n){return new(n||t)(a.Y36(r.C),a.Y36(g.zb),a.Y36(l.F0),a.Y36(u.qu),a.Y36(s.eN))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-user-create"]],decls:9,vars:1,consts:[["nz-form","","nzLayout","vertical",3,"formGroup"],["nzDirection","vertical"],["nzTitle","General",4,"nzSpaceItem"],["nzDirection","horizontal"],["nz-button","","nzType","primary",3,"click",4,"nzSpaceItem"],["nz-button","","nzType","secondary",3,"click",4,"nzSpaceItem"],["nzTitle","General"],["nzRequired",""],["nzErrorTip","Please input your first name!"],["type","text","nz-input","","formControlName","username","placeholder","UserName"],["type","text","nz-input","","formControlName","firstName","placeholder","First Name"],["nzErrorTip","Please input your last name!"],["type","text","nz-input","","formControlName","lastName","placeholder","Last Name"],["nzErrorTip","Please input your Email!"],["type","text","nz-input","","formControlName","email","placeholder","Email"],["formGroupName","role"],["formControlName","roleId"],[4,"ngFor","ngForOf"],["nzDisabled","","nzCustomContent","",4,"ngIf"],[3,"nzValue","nzLabel",4,"ngIf"],[3,"nzValue","nzLabel"],["nzDisabled","","nzCustomContent",""],["nz-icon","","nzType","loading",1,"loading-icon"],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzType","secondary",3,"click"]],template:function(t,n){1&t&&(a.TgZ(0,"nz-layout"),a.TgZ(1,"nz-content"),a.TgZ(2,"form",0),a.TgZ(3,"nz-space",1),a.YNc(4,U,28,2,"nz-card",2),a.qZA(),a.qZA(),a.qZA(),a.TgZ(5,"nz-footer"),a.TgZ(6,"nz-space",3),a.YNc(7,N,2,0,"button",4),a.YNc(8,O,2,0,"button",5),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(2),a.Q6J("formGroup",n.form))},directives:[p.hw,p.OK,u._Y,u.JL,d.Lr,u.sg,z.NU,z.$1,p.nX,m.bd,h.SK,d.Nx,h.t3,d.iK,d.Fd,Z.Zp,u.Fj,u.JJ,u.u,u.x0,f.Vq,o.sg,o.O5,f.Ip,T.w,b.Ls,q.ix,A.dQ],styles:["[_nghost-%COMP%]{display:contents}[_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]   nz-content[_ngcontent-%COMP%]{padding:.5rem;overflow:auto}[_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]   nz-content[_ngcontent-%COMP%]   nz-space[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]   nz-footer[_ngcontent-%COMP%]{text-align:end;padding:.5rem}[_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]     .ant-card-body, [_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]     .ant-card-head, [_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]     .ant-card-head-title{padding:.5rem}"]}),t})();function L(t,n){if(1&t&&a._UZ(0,"nz-option",20),2&t){const t=a.oxw().$implicit;a.Q6J("nzValue",t.roleId)("nzLabel",t.title)}}function P(t,n){if(1&t&&(a.ynx(0),a.YNc(1,L,1,2,"nz-option",19),a.BQk()),2&t){const t=a.oxw(2);a.xp6(1),a.Q6J("ngIf",!t.isLoading)}}function M(t,n){1&t&&(a.TgZ(0,"nz-option",21),a._UZ(1,"i",22),a._uU(2," Loading Data... "),a.qZA())}function I(t,n){if(1&t&&(a.TgZ(0,"nz-card",6),a.TgZ(1,"nz-form-item"),a.TgZ(2,"nz-form-label",7),a._uU(3,"Username"),a.qZA(),a.TgZ(4,"nz-form-control",8),a._UZ(5,"input",9),a.qZA(),a.qZA(),a.TgZ(6,"nz-form-item"),a.TgZ(7,"nz-form-label",7),a._uU(8,"First Name"),a.qZA(),a.TgZ(9,"nz-form-control",8),a._UZ(10,"input",10),a.qZA(),a.qZA(),a.TgZ(11,"nz-form-item"),a.TgZ(12,"nz-form-label",7),a._uU(13,"Last Name"),a.qZA(),a.TgZ(14,"nz-form-control",11),a._UZ(15,"input",12),a.qZA(),a.qZA(),a.TgZ(16,"nz-form-item"),a.TgZ(17,"nz-form-label",7),a._uU(18,"Email"),a.qZA(),a.TgZ(19,"nz-form-control",13),a._UZ(20,"input",14),a.qZA(),a.qZA(),a.TgZ(21,"nz-form-item",15),a.TgZ(22,"nz-form-label",7),a._uU(23,"Role"),a.qZA(),a.TgZ(24,"nz-form-control"),a.TgZ(25,"nz-select",16),a.YNc(26,P,2,1,"ng-container",17),a.YNc(27,M,3,0,"nz-option",18),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t){const t=a.oxw();a.xp6(26),a.Q6J("ngForOf",t.rolesList),a.xp6(1),a.Q6J("ngIf",t.isLoading)}}function v(t,n){if(1&t){const t=a.EpF();a.TgZ(0,"button",23),a.NdJ("click",function(){return a.CHM(t),a.oxw().save()}),a._uU(1,"Save"),a.qZA()}}function k(t,n){if(1&t){const t=a.EpF();a.TgZ(0,"button",24),a.NdJ("click",function(){return a.CHM(t),a.oxw().back()}),a._uU(1,"Cancel"),a.qZA()}}let w=(()=>{class t{constructor(t,n,e,o,i,r){this.baseUrl=t,this.notificationsService=n,this.router=e,this.activatedRoute=o,this.fb=i,this.http=r,this.isLoading=!1,this.rolesList=[]}ngOnInit(){this.form=this.fb.group({userId:[null,[u.kI.required]],username:[null,[u.kI.required]],firstName:[null,[u.kI.required]],lastName:[null,[u.kI.required]],email:[null,[u.kI.required]],role:this.fb.group({roleId:[null,[u.kI.required]]})}),this.fetchRoles(),this.form.patchValue(this.activatedRoute.snapshot.data.user)}save(){this.isLoading=!0;const t=Object.assign(this.form.value,{roleId:1});this.http.post(`${this.baseUrl}/api/usersApi/update`,t).subscribe({next:t=>{this.notificationsService.success("Success","User saved")},error:t=>{console.log(t),this.notificationsService.error("Error",t)},complete:()=>this.isLoading=!1})}back(){this.router.navigate(["users"])}fetchRoles(){this.isLoading=!0,this.http.post(`${this.baseUrl}/api/rolesApi/getAll`,{excludeAnonymous:!0}).subscribe({next:t=>{this.rolesList=t.items},error:t=>{console.log(t)},complete:()=>this.isLoading=!1})}}return t.\u0275fac=function(n){return new(n||t)(a.Y36(r.C),a.Y36(g.zb),a.Y36(l.F0),a.Y36(l.gz),a.Y36(u.qu),a.Y36(s.eN))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-user-edit"]],decls:9,vars:1,consts:[["nz-form","","nzLayout","vertical",3,"formGroup"],["nzDirection","vertical"],["nzTitle","General",4,"nzSpaceItem"],["nzDirection","horizontal"],["nz-button","","nzType","primary",3,"click",4,"nzSpaceItem"],["nz-button","","nzType","secondary",3,"click",4,"nzSpaceItem"],["nzTitle","General"],["nzRequired",""],["nzErrorTip","Please input your first name!"],["type","text","nz-input","","formControlName","username","placeholder","UserName"],["type","text","nz-input","","formControlName","firstName","placeholder","First Name"],["nzErrorTip","Please input your last name!"],["type","text","nz-input","","formControlName","lastName","placeholder","Last Name"],["nzErrorTip","Please input your Email!"],["type","text","nz-input","","formControlName","email","placeholder","Email"],["formGroupName","role"],["formControlName","roleId"],[4,"ngFor","ngForOf"],["nzDisabled","","nzCustomContent","",4,"ngIf"],[3,"nzValue","nzLabel",4,"ngIf"],[3,"nzValue","nzLabel"],["nzDisabled","","nzCustomContent",""],["nz-icon","","nzType","loading",1,"loading-icon"],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzType","secondary",3,"click"]],template:function(t,n){1&t&&(a.TgZ(0,"nz-layout"),a.TgZ(1,"nz-content"),a.TgZ(2,"form",0),a.TgZ(3,"nz-space",1),a.YNc(4,I,28,2,"nz-card",2),a.qZA(),a.qZA(),a.qZA(),a.TgZ(5,"nz-footer"),a.TgZ(6,"nz-space",3),a.YNc(7,v,2,0,"button",4),a.YNc(8,k,2,0,"button",5),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(2),a.Q6J("formGroup",n.form))},directives:[p.hw,p.OK,u._Y,u.JL,d.Lr,u.sg,z.NU,z.$1,p.nX,m.bd,h.SK,d.Nx,h.t3,d.iK,d.Fd,Z.Zp,u.Fj,u.JJ,u.u,u.x0,f.Vq,o.sg,o.O5,f.Ip,T.w,b.Ls,q.ix,A.dQ],styles:["[_nghost-%COMP%]{display:contents}[_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]   nz-content[_ngcontent-%COMP%]{padding:.5rem;overflow:auto}[_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]   nz-content[_ngcontent-%COMP%]   nz-space[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]   nz-footer[_ngcontent-%COMP%]{text-align:end;padding:.5rem}[_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]     .ant-card-body, [_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]     .ant-card-head, [_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]     .ant-card-head-title{padding:.5rem}"]}),t})();var Y=e(9597),F=e(2831);function J(t,n){if(1&t){const t=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"button",3),a.NdJ("click",function(){return a.CHM(t),a.oxw().addUser()}),a._uU(2,"Add User"),a.qZA(),a.qZA()}}function S(t,n){if(1&t){const t=a.EpF();a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.ALo(7,"date"),a.qZA(),a.TgZ(8,"td"),a._uU(9),a.ALo(10,"date"),a.qZA(),a.TgZ(11,"td"),a.TgZ(12,"button",10),a.NdJ("click",function(){const n=a.CHM(t).$implicit;return a.oxw(2).edit(n)}),a._UZ(13,"i",11),a.qZA(),a.qZA(),a.qZA()}if(2&t){const t=n.$implicit;a.xp6(2),a.hij(" ",t.username," "),a.xp6(2),a.hij(" ",null==t.role?null:t.role.title," "),a.xp6(2),a.hij(" ",a.lcZ(7,4,t.lastLoginDate)," "),a.xp6(3),a.hij(" ",a.lcZ(10,6,null==t.auditData?null:t.auditData.createDate)," ")}}function E(t,n){if(1&t&&(a.TgZ(0,"nz-table",4,5),a.TgZ(2,"thead"),a.TgZ(3,"tr"),a.TgZ(4,"th"),a._uU(5,"Name"),a.qZA(),a.TgZ(6,"th",6),a._uU(7,"Role"),a.qZA(),a.TgZ(8,"th",7),a._uU(9,"Last Logged In"),a.qZA(),a.TgZ(10,"th",7),a._uU(11,"Created"),a.qZA(),a._UZ(12,"th",8),a.qZA(),a.qZA(),a.TgZ(13,"tbody"),a.YNc(14,S,14,8,"tr",9),a.qZA(),a.qZA()),2&t){const t=a.MAs(1),n=a.oxw();a.Q6J("nzFrontPagination",!1)("nzShowPagination",!1)("nzLoading",n.isLoading)("nzData",n.items),a.xp6(14),a.Q6J("ngForOf",t.data)}}const D=[{path:"",component:(()=>{class t{constructor(t,n,e,o){this.baseUrl=t,this.router=n,this.activatedRoute=e,this.http=o,this.isLoading=!1,this.items=[],this.page=1,this.quantity=100}ngOnInit(){this.reload()}reload(){this.isLoading=!0,this.http.post(`${this.baseUrl}/api/usersApi/getAll`,{pageSize:this.quantity,pageNumber:this.page}).pipe((0,Y.x)(()=>this.isLoading=!1)).subscribe(t=>{this.items=t.items,this.total=t.totalItems})}addUser(){this.router.navigate(["create"],{relativeTo:this.activatedRoute})}edit(t){this.router.navigate(["user",t.userId],{relativeTo:this.activatedRoute})}remove(t){}}return t.\u0275fac=function(n){return new(n||t)(a.Y36(r.C),a.Y36(l.F0),a.Y36(l.gz),a.Y36(s.eN))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-users-list"]],decls:3,vars:0,consts:[["nzDirection","vertical"],[4,"nzSpaceItem"],["nzTableLayout","fixed",3,"nzFrontPagination","nzShowPagination","nzLoading","nzData",4,"nzSpaceItem"],["nz-button","",3,"click"],["nzTableLayout","fixed",3,"nzFrontPagination","nzShowPagination","nzLoading","nzData"],["table",""],["nzWidth","200px"],["nzWidth","150px"],["nzWidth","70px"],[4,"ngFor","ngForOf"],["nz-button","","nzType","default",3,"click"],["nz-icon","","nzType","edit"]],template:function(t,n){1&t&&(a.TgZ(0,"nz-space",0),a.YNc(1,J,3,0,"div",1),a.YNc(2,E,15,5,"nz-table",2),a.qZA())},directives:[z.NU,z.$1,q.ix,A.dQ,T.w,F.N8,F.Om,F.$Z,F.Uo,F._C,F.p0,o.sg,b.Ls],pipes:[o.uU],styles:["[_nghost-%COMP%]{display:block;height:100%;padding:.5rem}[_nghost-%COMP%] > .card[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%] > .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0}"]}),t})(),data:{breadcrumb:"User List"}},{path:"create",component:x,data:{breadcrumb:"User Create"}},{path:"user/:id",component:w,data:{breadcrumb:"User Edit"},resolve:{user:c}}];let Q=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[l.Bz.forChild(D)],l.Bz]}),t})(),$=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[c],imports:[[o.ez,Q,i.m]]}),t})()}}]);