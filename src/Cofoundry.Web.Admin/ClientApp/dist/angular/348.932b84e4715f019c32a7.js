(self.webpackChunkangular=self.webpackChunkangular||[]).push([[348],{3348:(t,n,e)=>{"use strict";e.r(n),e.d(n,{RolesModule:()=>F});var o=e(1116),i=e(5398),r=e(5366),a=e(2693);let c=(()=>{class t{constructor(t,n){this.baseUrl=t,this.http=n}resolve(t){const n=t.paramMap.get("id");return this.http.get(`${this.baseUrl}/api/rolesApi/getById?roleId=${n}`)}}return t.\u0275fac=function(n){return new(n||t)(r.LFG(i.C),r.LFG(a.eN))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();var s=e(2767),l=e(6728),u=e(8971),p=e(6594),d=e(1524),g=e(1318),h=e(4375),z=e(1843),f=e(3776),m=e(5095),Z=e(5728),b=e(4897);function T(t,n){1&t&&(r.TgZ(0,"nz-card",6),r.TgZ(1,"nz-form-item"),r.TgZ(2,"nz-form-label",7),r._uU(3,"Title"),r.qZA(),r.TgZ(4,"nz-form-control",8),r._UZ(5,"input",9),r.qZA(),r.qZA(),r.qZA())}function y(t,n){if(1&t){const t=r.EpF();r.TgZ(0,"button",10),r.NdJ("click",function(){return r.CHM(t),r.oxw().create()}),r._uU(1,"Create"),r.qZA()}}function C(t,n){if(1&t){const t=r.EpF();r.TgZ(0,"button",11),r.NdJ("click",function(){return r.CHM(t),r.oxw().back()}),r._uU(1,"Cancel"),r.qZA()}}let _=(()=>{class t{constructor(t,n,e,o,i,r){this.baseUrl=t,this.notificationsService=n,this.router=e,this.activatedRoute=o,this.fb=i,this.http=r,this.isLoading=!1,this.rolesList=[]}ngOnInit(){this.form=this.fb.group({title:[null,[l.kI.required]]})}create(){this.isLoading=!0;const t=Object.assign(this.form.value);this.http.post(`${this.baseUrl}/api/rolesApi/add`,t).subscribe({next:t=>{this.notificationsService.success("Success","Role added"),this.back()},error:t=>{console.log(t),this.notificationsService.error("Error",t)},complete:()=>this.isLoading=!1})}back(){this.router.navigate([""],{relativeTo:this.activatedRoute})}}return t.\u0275fac=function(n){return new(n||t)(r.Y36(i.C),r.Y36(u.zb),r.Y36(s.F0),r.Y36(s.gz),r.Y36(l.qu),r.Y36(a.eN))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-role-create"]],decls:9,vars:1,consts:[["nz-form","","nzLayout","vertical",3,"formGroup"],["nzDirection","vertical"],["nzTitle","General",4,"nzSpaceItem"],["nzDirection","horizontal"],["nz-button","","nzType","primary",3,"click",4,"nzSpaceItem"],["nz-button","","nzType","secondary",3,"click",4,"nzSpaceItem"],["nzTitle","General"],["nzRequired",""],["nzErrorTip","Please input Title"],["type","text","nz-input","","formControlName","title","placeholder","Title"],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzType","secondary",3,"click"]],template:function(t,n){1&t&&(r.TgZ(0,"nz-layout"),r.TgZ(1,"nz-content"),r.TgZ(2,"form",0),r.TgZ(3,"nz-space",1),r.YNc(4,T,6,0,"nz-card",2),r.qZA(),r.qZA(),r.qZA(),r.TgZ(5,"nz-footer"),r.TgZ(6,"nz-space",3),r.YNc(7,y,2,0,"button",4),r.YNc(8,C,2,0,"button",5),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Q6J("formGroup",n.form))},directives:[p.hw,p.OK,l._Y,l.JL,d.Lr,l.sg,g.NU,g.$1,p.nX,h.bd,z.SK,d.Nx,z.t3,d.iK,d.Fd,f.Zp,l.Fj,l.JJ,l.u,m.ix,Z.dQ,b.w],styles:["[_nghost-%COMP%]{display:contents}[_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]   nz-content[_ngcontent-%COMP%]   nz-space[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]   nz-footer[_ngcontent-%COMP%]{text-align:end;padding:.5rem}[_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]     .ant-card-body, [_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]     .ant-card-head, [_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]     .ant-card-head-title{padding:.5rem}"]}),t})();function v(t,n){1&t&&(r.TgZ(0,"nz-card",6),r.TgZ(1,"nz-form-item"),r.TgZ(2,"nz-form-label",7),r._uU(3,"Title"),r.qZA(),r.TgZ(4,"nz-form-control",8),r._UZ(5,"input",9),r.qZA(),r.qZA(),r.qZA())}function O(t,n){if(1&t){const t=r.EpF();r.TgZ(0,"button",10),r.NdJ("click",function(){return r.CHM(t),r.oxw().save()}),r._uU(1,"Save"),r.qZA()}}function M(t,n){if(1&t){const t=r.EpF();r.TgZ(0,"button",11),r.NdJ("click",function(){return r.CHM(t),r.oxw().back()}),r._uU(1,"Cancel"),r.qZA()}}let P=(()=>{class t{constructor(t,n,e,o,i,r){this.baseUrl=t,this.notificationsService=n,this.router=e,this.activatedRoute=o,this.fb=i,this.http=r,this.isLoading=!1,this.rolesList=[]}ngOnInit(){this.form=this.fb.group({roleId:[null,[l.kI.required]],title:[null,[l.kI.required]]}),this.role=this.activatedRoute.snapshot.data.role,this.form.patchValue(this.role)}save(){this.isLoading=!0;const t=Object.assign(this.role,this.form.value);this.http.post(`${this.baseUrl}/api/rolesApi/update`,t).subscribe({next:t=>{this.notificationsService.success("Success","Role saved")},error:t=>{console.log(t),this.notificationsService.error("Error",t)},complete:()=>this.isLoading=!1})}back(){this.router.navigate([""],{relativeTo:this.activatedRoute})}}return t.\u0275fac=function(n){return new(n||t)(r.Y36(i.C),r.Y36(u.zb),r.Y36(s.F0),r.Y36(s.gz),r.Y36(l.qu),r.Y36(a.eN))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-role-edit"]],decls:9,vars:1,consts:[["nz-form","","nzLayout","vertical",3,"formGroup"],["nzDirection","vertical"],["nzTitle","General",4,"nzSpaceItem"],["nzDirection","horizontal"],["nz-button","","nzType","primary",3,"click",4,"nzSpaceItem"],["nz-button","","nzType","secondary",3,"click",4,"nzSpaceItem"],["nzTitle","General"],["nzRequired",""],["nzErrorTip","Please input Title"],["type","text","nz-input","","formControlName","title","placeholder","Title"],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzType","secondary",3,"click"]],template:function(t,n){1&t&&(r.TgZ(0,"nz-layout"),r.TgZ(1,"nz-content"),r.TgZ(2,"form",0),r.TgZ(3,"nz-space",1),r.YNc(4,v,6,0,"nz-card",2),r.qZA(),r.qZA(),r.qZA(),r.TgZ(5,"nz-footer"),r.TgZ(6,"nz-space",3),r.YNc(7,O,2,0,"button",4),r.YNc(8,M,2,0,"button",5),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Q6J("formGroup",n.form))},directives:[p.hw,p.OK,l._Y,l.JL,d.Lr,l.sg,g.NU,g.$1,p.nX,h.bd,z.SK,d.Nx,z.t3,d.iK,d.Fd,f.Zp,l.Fj,l.JJ,l.u,m.ix,Z.dQ,b.w],styles:["[_nghost-%COMP%]{display:contents}[_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]   nz-content[_ngcontent-%COMP%]   nz-space[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]   nz-footer[_ngcontent-%COMP%]{text-align:end;padding:.5rem}[_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]     .ant-card-body, [_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]     .ant-card-head, [_nghost-%COMP%]   nz-layout[_ngcontent-%COMP%]     .ant-card-head-title{padding:.5rem}"]}),t})(),q=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-roles"]],decls:1,vars:0,template:function(t,n){1&t&&r._UZ(0,"router-outlet")},directives:[s.lC],styles:["[_nghost-%COMP%]{display:contents}"]}),t})();var A=e(9597),k=e(2831),N=e(7787);function Y(t,n){if(1&t){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"button",3),r.NdJ("click",function(){return r.CHM(t),r.oxw().addRole()}),r._uU(2,"Add Role"),r.qZA(),r.qZA()}}function x(t,n){if(1&t){const t=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r.TgZ(4,"button",8),r.NdJ("click",function(){const n=r.CHM(t).$implicit;return r.oxw(2).edit(n)}),r._UZ(5,"i",9),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=n.$implicit;r.xp6(2),r.hij(" ",t.title," ")}}function L(t,n){if(1&t&&(r.TgZ(0,"nz-table",4,5),r.TgZ(2,"thead"),r.TgZ(3,"tr"),r.TgZ(4,"th"),r._uU(5,"Title"),r.qZA(),r._UZ(6,"th",6),r.qZA(),r.qZA(),r.TgZ(7,"tbody"),r.YNc(8,x,6,1,"tr",7),r.qZA(),r.qZA()),2&t){const t=r.MAs(1),n=r.oxw();r.Q6J("nzFrontPagination",!1)("nzShowPagination",!1)("nzLoading",n.isLoading)("nzData",n.items),r.xp6(8),r.Q6J("ngForOf",t.data)}}const w=[{path:"",component:q,children:[{path:"",component:(()=>{class t{constructor(t,n,e,o){this.baseUrl=t,this.router=n,this.activatedRoute=e,this.http=o,this.isLoading=!1,this.items=[],this.page=1,this.quantity=100}ngOnInit(){this.reload()}reload(){this.isLoading=!0,this.http.post(`${this.baseUrl}/api/rolesApi/getAll`,{pageSize:this.quantity,pageNumber:this.page}).pipe((0,A.x)(()=>this.isLoading=!1)).subscribe(t=>{this.items=t.items,this.total=t.totalItems})}addRole(){this.router.navigate(["create"],{relativeTo:this.activatedRoute})}edit(t){this.router.navigate(["role",t.roleId],{relativeTo:this.activatedRoute})}remove(t){}}return t.\u0275fac=function(n){return new(n||t)(r.Y36(i.C),r.Y36(s.F0),r.Y36(s.gz),r.Y36(a.eN))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-roles-list"]],decls:3,vars:0,consts:[["nzDirection","vertical"],[4,"nzSpaceItem"],["nzTableLayout","fixed",3,"nzFrontPagination","nzShowPagination","nzLoading","nzData",4,"nzSpaceItem"],["nz-button","",3,"click"],["nzTableLayout","fixed",3,"nzFrontPagination","nzShowPagination","nzLoading","nzData"],["table",""],["nzWidth","70px"],[4,"ngFor","ngForOf"],["nz-button","","nzType","default",3,"click"],["nz-icon","","nzType","edit"]],template:function(t,n){1&t&&(r.TgZ(0,"nz-space",0),r.YNc(1,Y,3,0,"div",1),r.YNc(2,L,9,5,"nz-table",2),r.qZA())},directives:[g.NU,g.$1,m.ix,Z.dQ,b.w,k.N8,k.Om,k.$Z,k.Uo,k._C,k.p0,o.sg,N.Ls],styles:["[_nghost-%COMP%]{display:contents}[_nghost-%COMP%] > .card[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%] > .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0}"]}),t})(),data:{breadcrumb:"Roles List"}},{path:"create",component:_,data:{breadcrumb:"Role Create"}},{path:"role/:id",component:P,data:{breadcrumb:"Role Edit"},resolve:{role:c}}]}];let U=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[s.Bz.forChild(w)],s.Bz]}),t})();var S=e(9455);let F=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[c],imports:[[o.ez,U,S.m]]}),t})()}}]);