2020-09-11 14:55:16.237 +03:00 [INF] User profile is available. Using 'C:\Users\Max\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-11 14:55:16.420 +03:00 [INF] Queued Hosted Service is starting.
2020-09-11 14:55:17.109 +03:00 [INF] Migrating database associated with context ProjectDbContext
2020-09-11 14:55:18.239 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2020-09-11 14:55:18.307 +03:00 [INF] Entity Framework Core 3.1.8 initialized 'ProjectDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Web.Service, Version=0.5.0.0, Culture=neutral, PublicKeyToken=null 
2020-09-11 14:55:19.062 +03:00 [INF] Now listening on: https://localhost:5001
2020-09-11 14:55:19.063 +03:00 [INF] Now listening on: http://localhost:5000
2020-09-11 14:55:19.064 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-11 14:55:19.064 +03:00 [INF] Hosting environment: Development
2020-09-11 14:55:19.064 +03:00 [INF] Content root path: C:\work\Github\PlatformFramework\samples\Web.Service
2020-09-11 14:55:19.379 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 14:55:19.519 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 14:55:19.569 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2020-09-11 14:55:19.634 +03:00 [INF] No migrations were applied. The database is already up to date.
2020-09-11 14:55:19.636 +03:00 [INF] Migrated database associated with context ProjectDbContext
2020-09-11 14:55:27.434 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2020-09-11 14:55:27.549 +03:00 [INF] Entity Framework Core 3.1.8 initialized 'ProjectDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Web.Service, Version=0.5.0.0, Culture=neutral, PublicKeyToken=null 
2020-09-11 15:42:19.424 +03:00 [INF] User profile is available. Using 'C:\Users\Max\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-11 15:42:19.558 +03:00 [INF] Queued Hosted Service is starting.
2020-09-11 15:42:19.886 +03:00 [INF] Migrating database associated with context ProjectDbContext
2020-09-11 15:42:20.864 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2020-09-11 15:42:20.963 +03:00 [INF] Entity Framework Core 3.1.8 initialized 'ProjectDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Web.Service, Version=0.5.4.0, Culture=neutral, PublicKeyToken=null 
2020-09-11 15:42:21.614 +03:00 [INF] Now listening on: https://localhost:5001
2020-09-11 15:42:21.614 +03:00 [INF] Now listening on: http://localhost:5000
2020-09-11 15:42:21.615 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-11 15:42:21.615 +03:00 [INF] Hosting environment: Development
2020-09-11 15:42:21.616 +03:00 [INF] Content root path: C:\work\Github\PlatformFramework\samples\Web.Service
2020-09-11 15:42:22.197 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 15:42:22.300 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 15:42:22.322 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2020-09-11 15:42:22.346 +03:00 [INF] No migrations were applied. The database is already up to date.
2020-09-11 15:42:25.686 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 15:42:27.916 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 15:42:28.190 +03:00 [ERR] Failed executing DbCommand (21ms) [Parameters=[@p0='61afb912-ac3d-418c-a92e-553f4e51ffce', @p1='Administrator', @p2='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2020-09-11 15:42:28.264 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Web.Service.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, 61afb912-ac3d-418c-a92e-553f4e51ffce).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, 61afb912-ac3d-418c-a92e-553f4e51ffce).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-09-11 15:42:28.813 +03:00 [ERR] An error occurred while migrating the database used on context ProjectDbContext
PlatformFramework.EFCore.Exceptions.DbException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, 61afb912-ac3d-418c-a92e-553f4e51ffce).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PlatformFramework.EFCore.Entities.PlatformDbContextExtensions.SaveChangesWithHooks(DbContext context, Action`1 onSaveCompleted, CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Entities\PlatformDbContextExtensions.cs:line 42
   --- End of inner exception stack trace ---
   at PlatformFramework.EFCore.Entities.PlatformDbContextExtensions.SaveChangesWithHooks(DbContext context, Action`1 onSaveCompleted, CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Entities\PlatformDbContextExtensions.cs:line 58
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5.SaveChanges(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5.CreateAsync(TRole role, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.RoleManager`1.CreateAsync(TRole role)
   at Web.Service.ProjectDbContextSeedProvider.Seed(CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\samples\Web.Service\ProjectDbContextSeedProvider.cs:line 30
   at PlatformFramework.EFCore.Context.Migrations.DbContextMigrationsInitializer`1.ExecuteAsync(CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Context\Migrations\DbContextMigrationsInitializer.cs:line 41
2020-09-11 15:44:56.468 +03:00 [INF] User profile is available. Using 'C:\Users\Max\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-11 15:44:56.576 +03:00 [INF] Queued Hosted Service is starting.
2020-09-11 15:44:56.876 +03:00 [INF] Migrating database associated with context ProjectDbContext
2020-09-11 15:44:57.649 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2020-09-11 15:44:57.734 +03:00 [INF] Entity Framework Core 3.1.8 initialized 'ProjectDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Web.Service, Version=0.5.4.0, Culture=neutral, PublicKeyToken=null 
2020-09-11 15:44:58.430 +03:00 [INF] Now listening on: https://localhost:5001
2020-09-11 15:44:58.443 +03:00 [INF] Now listening on: http://localhost:5000
2020-09-11 15:44:58.444 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-11 15:44:58.444 +03:00 [INF] Hosting environment: Development
2020-09-11 15:44:58.445 +03:00 [INF] Content root path: C:\work\Github\PlatformFramework\samples\Web.Service
2020-09-11 15:44:58.990 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 15:44:59.086 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 15:44:59.111 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2020-09-11 15:44:59.134 +03:00 [INF] No migrations were applied. The database is already up to date.
2020-09-11 15:45:02.039 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 15:45:07.516 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 15:45:07.786 +03:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[@p0='6e860c4d-46f0-4b6f-a797-61b672d2be13', @p1='Administrator', @p2='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2020-09-11 15:45:07.873 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Web.Service.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, 6e860c4d-46f0-4b6f-a797-61b672d2be13).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, 6e860c4d-46f0-4b6f-a797-61b672d2be13).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-09-11 15:45:08.451 +03:00 [ERR] An error occurred while migrating the database used on context ProjectDbContext
PlatformFramework.EFCore.Exceptions.DbException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, 6e860c4d-46f0-4b6f-a797-61b672d2be13).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PlatformFramework.EFCore.Entities.PlatformDbContextExtensions.SaveChangesWithHooks(DbContext context, Action`1 onSaveCompleted, CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Entities\PlatformDbContextExtensions.cs:line 42
   --- End of inner exception stack trace ---
   at PlatformFramework.EFCore.Entities.PlatformDbContextExtensions.SaveChangesWithHooks(DbContext context, Action`1 onSaveCompleted, CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Entities\PlatformDbContextExtensions.cs:line 58
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5.SaveChanges(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5.CreateAsync(TRole role, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.RoleManager`1.CreateAsync(TRole role)
   at Web.Service.ProjectDbContextSeedProvider.Seed(CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\samples\Web.Service\ProjectDbContextSeedProvider.cs:line 30
   at PlatformFramework.EFCore.Context.Migrations.DbContextMigrationsInitializer`1.ExecuteAsync(CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Context\Migrations\DbContextMigrationsInitializer.cs:line 41
2020-09-11 15:49:32.799 +03:00 [INF] User profile is available. Using 'C:\Users\Max\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-11 15:49:32.914 +03:00 [INF] Queued Hosted Service is starting.
2020-09-11 15:49:33.210 +03:00 [INF] Migrating database associated with context ProjectDbContext
2020-09-11 15:49:33.959 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2020-09-11 15:49:34.035 +03:00 [INF] Entity Framework Core 3.1.8 initialized 'ProjectDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Web.Service, Version=0.5.4.0, Culture=neutral, PublicKeyToken=null 
2020-09-11 15:49:34.653 +03:00 [INF] Now listening on: https://localhost:5001
2020-09-11 15:49:34.653 +03:00 [INF] Now listening on: http://localhost:5000
2020-09-11 15:49:34.654 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-11 15:49:34.654 +03:00 [INF] Hosting environment: Development
2020-09-11 15:49:34.655 +03:00 [INF] Content root path: C:\work\Github\PlatformFramework\samples\Web.Service
2020-09-11 15:49:35.157 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 15:49:35.244 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 15:49:35.270 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2020-09-11 15:49:35.293 +03:00 [INF] No migrations were applied. The database is already up to date.
2020-09-11 15:49:35.621 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 15:49:39.446 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 15:49:39.680 +03:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[@p0='7bbf9dc4-5aca-4909-8880-dc6e1b20fc99', @p1='Administrator', @p2='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2020-09-11 15:49:39.747 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Web.Service.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, 7bbf9dc4-5aca-4909-8880-dc6e1b20fc99).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, 7bbf9dc4-5aca-4909-8880-dc6e1b20fc99).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-09-11 15:49:40.262 +03:00 [ERR] An error occurred while migrating the database used on context ProjectDbContext
PlatformFramework.EFCore.Exceptions.DbException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, 7bbf9dc4-5aca-4909-8880-dc6e1b20fc99).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PlatformFramework.EFCore.Entities.PlatformDbContextExtensions.SaveChangesWithHooks(DbContext context, Action`1 onSaveCompleted, CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Entities\PlatformDbContextExtensions.cs:line 42
   --- End of inner exception stack trace ---
   at PlatformFramework.EFCore.Entities.PlatformDbContextExtensions.SaveChangesWithHooks(DbContext context, Action`1 onSaveCompleted, CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Entities\PlatformDbContextExtensions.cs:line 58
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5.SaveChanges(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5.CreateAsync(TRole role, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.RoleManager`1.CreateAsync(TRole role)
   at Web.Service.ProjectDbContextSeedProvider.Seed(CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\samples\Web.Service\ProjectDbContextSeedProvider.cs:line 30
   at PlatformFramework.EFCore.Context.Migrations.DbContextMigrationsInitializer`1.ExecuteAsync(CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Context\Migrations\DbContextMigrationsInitializer.cs:line 41
2020-09-11 15:49:43.860 +03:00 [INF] Application is shutting down...
2020-09-11 15:50:54.455 +03:00 [INF] User profile is available. Using 'C:\Users\Max\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-11 15:50:54.559 +03:00 [INF] Queued Hosted Service is starting.
2020-09-11 15:50:54.834 +03:00 [INF] Migrating database associated with context ProjectDbContext
2020-09-11 15:50:55.579 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2020-09-11 15:50:55.650 +03:00 [INF] Entity Framework Core 3.1.8 initialized 'ProjectDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Web.Service, Version=0.5.4.0, Culture=neutral, PublicKeyToken=null 
2020-09-11 15:50:56.273 +03:00 [INF] Now listening on: https://localhost:5001
2020-09-11 15:50:56.273 +03:00 [INF] Now listening on: http://localhost:5000
2020-09-11 15:50:56.274 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-11 15:50:56.275 +03:00 [INF] Hosting environment: Development
2020-09-11 15:50:56.275 +03:00 [INF] Content root path: C:\work\Github\PlatformFramework\samples\Web.Service
2020-09-11 15:50:56.798 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 15:50:56.894 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 15:50:56.917 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2020-09-11 15:50:56.938 +03:00 [INF] No migrations were applied. The database is already up to date.
2020-09-11 15:50:57.254 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 15:50:59.870 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 15:51:00.111 +03:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[@p0='cb61de97-3920-46b0-a03d-ab6ba9c2be0d', @p1='Administrator', @p2='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2020-09-11 15:51:00.176 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Web.Service.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, cb61de97-3920-46b0-a03d-ab6ba9c2be0d).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, cb61de97-3920-46b0-a03d-ab6ba9c2be0d).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-09-11 15:51:00.670 +03:00 [ERR] An error occurred while migrating the database used on context ProjectDbContext
PlatformFramework.EFCore.Exceptions.DbException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, cb61de97-3920-46b0-a03d-ab6ba9c2be0d).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PlatformFramework.EFCore.Entities.PlatformDbContextExtensions.SaveChangesWithHooks(DbContext context, Action`1 onSaveCompleted, CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Entities\PlatformDbContextExtensions.cs:line 42
   --- End of inner exception stack trace ---
   at PlatformFramework.EFCore.Entities.PlatformDbContextExtensions.SaveChangesWithHooks(DbContext context, Action`1 onSaveCompleted, CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Entities\PlatformDbContextExtensions.cs:line 58
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5.SaveChanges(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5.CreateAsync(TRole role, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.RoleManager`1.CreateAsync(TRole role)
   at Web.Service.ProjectDbContextSeedProvider.Seed(CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\samples\Web.Service\ProjectDbContextSeedProvider.cs:line 30
   at PlatformFramework.EFCore.Context.Migrations.DbContextMigrationsInitializer`1.ExecuteAsync(CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Context\Migrations\DbContextMigrationsInitializer.cs:line 41
2020-09-11 15:51:06.068 +03:00 [INF] Application is shutting down...
2020-09-11 15:52:28.714 +03:00 [INF] User profile is available. Using 'C:\Users\Max\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-11 15:52:28.830 +03:00 [INF] Queued Hosted Service is starting.
2020-09-11 15:52:29.090 +03:00 [INF] Migrating database associated with context ProjectDbContext
2020-09-11 15:52:29.827 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2020-09-11 15:52:29.905 +03:00 [INF] Entity Framework Core 3.1.8 initialized 'ProjectDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Web.Service, Version=0.5.4.0, Culture=neutral, PublicKeyToken=null 
2020-09-11 15:52:30.518 +03:00 [INF] Now listening on: https://localhost:5001
2020-09-11 15:52:30.518 +03:00 [INF] Now listening on: http://localhost:5000
2020-09-11 15:52:30.519 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-11 15:52:30.519 +03:00 [INF] Hosting environment: Development
2020-09-11 15:52:30.519 +03:00 [INF] Content root path: C:\work\Github\PlatformFramework\samples\Web.Service
2020-09-11 15:52:31.037 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 15:52:31.128 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 15:52:31.153 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2020-09-11 15:52:31.177 +03:00 [INF] No migrations were applied. The database is already up to date.
2020-09-11 15:52:31.508 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 15:52:33.602 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 15:52:33.845 +03:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[@p0='e93aecc5-e015-425f-a693-32736e290fa2', @p1='Administrator', @p2='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2020-09-11 15:52:33.914 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Web.Service.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, e93aecc5-e015-425f-a693-32736e290fa2).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, e93aecc5-e015-425f-a693-32736e290fa2).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-09-11 15:52:34.428 +03:00 [ERR] An error occurred while migrating the database used on context ProjectDbContext
PlatformFramework.EFCore.Exceptions.DbException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, e93aecc5-e015-425f-a693-32736e290fa2).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PlatformFramework.EFCore.Entities.PlatformDbContextExtensions.SaveChangesWithHooks(DbContext context, Action`1 onSaveCompleted, CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Entities\PlatformDbContextExtensions.cs:line 42
   --- End of inner exception stack trace ---
   at PlatformFramework.EFCore.Entities.PlatformDbContextExtensions.SaveChangesWithHooks(DbContext context, Action`1 onSaveCompleted, CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Entities\PlatformDbContextExtensions.cs:line 58
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5.SaveChanges(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5.CreateAsync(TRole role, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.RoleManager`1.CreateAsync(TRole role)
   at Web.Service.ProjectDbContextSeedProvider.Seed(CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\samples\Web.Service\ProjectDbContextSeedProvider.cs:line 30
   at PlatformFramework.EFCore.Context.Migrations.DbContextMigrationsInitializer`1.ExecuteAsync(CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Context\Migrations\DbContextMigrationsInitializer.cs:line 41
2020-09-11 15:52:41.413 +03:00 [INF] Application is shutting down...
2020-09-11 15:57:02.702 +03:00 [INF] User profile is available. Using 'C:\Users\Max\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-11 15:57:02.814 +03:00 [INF] Queued Hosted Service is starting.
2020-09-11 15:57:03.068 +03:00 [INF] Migrating database associated with context ProjectDbContext
2020-09-11 15:57:03.830 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2020-09-11 15:57:03.901 +03:00 [INF] Entity Framework Core 3.1.8 initialized 'ProjectDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Web.Service, Version=0.5.4.0, Culture=neutral, PublicKeyToken=null 
2020-09-11 15:57:04.543 +03:00 [INF] Now listening on: https://localhost:5001
2020-09-11 15:57:04.543 +03:00 [INF] Now listening on: http://localhost:5000
2020-09-11 15:57:04.544 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-11 15:57:04.545 +03:00 [INF] Hosting environment: Development
2020-09-11 15:57:04.545 +03:00 [INF] Content root path: C:\work\Github\PlatformFramework\samples\Web.Service
2020-09-11 15:57:05.064 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 15:57:05.157 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 15:57:05.180 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2020-09-11 15:57:05.199 +03:00 [INF] No migrations were applied. The database is already up to date.
2020-09-11 15:57:06.410 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='Administrator'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 15:57:09.093 +03:00 [ERR] Failed executing DbCommand (52ms) [Parameters=[@p0='c09b9caa-9168-4f1b-a4e2-c07c198761d6', @p1='Administrator', @p2=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2020-09-11 15:57:09.162 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Web.Service.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, null, c09b9caa-9168-4f1b-a4e2-c07c198761d6).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, null, c09b9caa-9168-4f1b-a4e2-c07c198761d6).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-09-11 15:57:09.660 +03:00 [ERR] An error occurred while migrating the database used on context ProjectDbContext
PlatformFramework.EFCore.Exceptions.DbException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, null, c09b9caa-9168-4f1b-a4e2-c07c198761d6).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PlatformFramework.EFCore.Entities.PlatformDbContextExtensions.SaveChangesWithHooks(DbContext context, Action`1 onSaveCompleted, CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Entities\PlatformDbContextExtensions.cs:line 42
   --- End of inner exception stack trace ---
   at PlatformFramework.EFCore.Entities.PlatformDbContextExtensions.SaveChangesWithHooks(DbContext context, Action`1 onSaveCompleted, CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Entities\PlatformDbContextExtensions.cs:line 58
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5.SaveChanges(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5.CreateAsync(TRole role, CancellationToken cancellationToken)
   at Web.Service.ProjectDbContextSeedProvider.Seed(CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\samples\Web.Service\ProjectDbContextSeedProvider.cs:line 30
   at PlatformFramework.EFCore.Context.Migrations.DbContextMigrationsInitializer`1.ExecuteAsync(CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Context\Migrations\DbContextMigrationsInitializer.cs:line 41
2020-09-11 15:58:40.818 +03:00 [INF] User profile is available. Using 'C:\Users\Max\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-11 15:58:40.921 +03:00 [INF] Queued Hosted Service is starting.
2020-09-11 15:58:41.209 +03:00 [INF] Migrating database associated with context ProjectDbContext
2020-09-11 15:58:41.956 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2020-09-11 15:58:42.029 +03:00 [INF] Entity Framework Core 3.1.8 initialized 'ProjectDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Web.Service, Version=0.5.4.0, Culture=neutral, PublicKeyToken=null 
2020-09-11 15:58:42.649 +03:00 [INF] Now listening on: https://localhost:5001
2020-09-11 15:58:42.650 +03:00 [INF] Now listening on: http://localhost:5000
2020-09-11 15:58:42.651 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-11 15:58:42.651 +03:00 [INF] Hosting environment: Development
2020-09-11 15:58:42.651 +03:00 [INF] Content root path: C:\work\Github\PlatformFramework\samples\Web.Service
2020-09-11 15:58:43.139 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 15:58:43.234 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 15:58:43.262 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2020-09-11 15:58:43.283 +03:00 [INF] No migrations were applied. The database is already up to date.
2020-09-11 15:58:49.388 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 15:58:49.403 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 15:58:49.605 +03:00 [ERR] Failed executing DbCommand (19ms) [Parameters=[@p0='65188267-6876-4be6-a987-2077bb418eb0', @p1='Administrator', @p2='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2020-09-11 15:58:49.676 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Web.Service.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, 65188267-6876-4be6-a987-2077bb418eb0).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, 65188267-6876-4be6-a987-2077bb418eb0).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-09-11 15:58:50.079 +03:00 [ERR] An error occurred while migrating the database used on context ProjectDbContext
PlatformFramework.EFCore.Exceptions.DbException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, 65188267-6876-4be6-a987-2077bb418eb0).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PlatformFramework.EFCore.Entities.PlatformDbContextExtensions.SaveChangesWithHooks(DbContext context, Action`1 onSaveCompleted, CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Entities\PlatformDbContextExtensions.cs:line 42
   --- End of inner exception stack trace ---
   at PlatformFramework.EFCore.Entities.PlatformDbContextExtensions.SaveChangesWithHooks(DbContext context, Action`1 onSaveCompleted, CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Entities\PlatformDbContextExtensions.cs:line 58
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5.SaveChanges(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5.CreateAsync(TRole role, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.RoleManager`1.CreateAsync(TRole role)
   at Web.Service.ProjectDbContextSeedProvider.Seed(CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\samples\Web.Service\ProjectDbContextSeedProvider.cs:line 30
   at PlatformFramework.EFCore.Context.Migrations.DbContextMigrationsInitializer`1.ExecuteAsync(CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Context\Migrations\DbContextMigrationsInitializer.cs:line 41
2020-09-11 15:58:52.428 +03:00 [INF] Application is shutting down...
2020-09-11 16:03:00.646 +03:00 [INF] User profile is available. Using 'C:\Users\Max\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-11 16:03:00.739 +03:00 [INF] Queued Hosted Service is starting.
2020-09-11 16:03:00.981 +03:00 [INF] Migrating database associated with context ProjectDbContext
2020-09-11 16:03:01.598 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2020-09-11 16:03:01.662 +03:00 [INF] Entity Framework Core 3.1.8 initialized 'ProjectDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Web.Service, Version=0.5.4.0, Culture=neutral, PublicKeyToken=null 
2020-09-11 16:03:02.179 +03:00 [INF] Now listening on: https://localhost:5001
2020-09-11 16:03:02.179 +03:00 [INF] Now listening on: http://localhost:5000
2020-09-11 16:03:02.180 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-11 16:03:02.180 +03:00 [INF] Hosting environment: Development
2020-09-11 16:03:02.180 +03:00 [INF] Content root path: C:\work\Github\PlatformFramework\samples\Web.Service
2020-09-11 16:03:02.615 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 16:03:02.706 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 16:03:02.732 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2020-09-11 16:03:02.751 +03:00 [INF] No migrations were applied. The database is already up to date.
2020-09-11 16:03:03.016 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 16:03:03.033 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 16:03:03.247 +03:00 [ERR] Failed executing DbCommand (19ms) [Parameters=[@p0='ea6f2f0f-2092-41db-8c9d-a9864f7fb6c4', @p1='Administrator', @p2='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2020-09-11 16:03:03.314 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Web.Service.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, ea6f2f0f-2092-41db-8c9d-a9864f7fb6c4).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, ea6f2f0f-2092-41db-8c9d-a9864f7fb6c4).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-09-11 16:03:03.786 +03:00 [ERR] An error occurred while migrating the database used on context ProjectDbContext
PlatformFramework.EFCore.Exceptions.DbException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, ea6f2f0f-2092-41db-8c9d-a9864f7fb6c4).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PlatformFramework.EFCore.Entities.PlatformDbContextExtensions.SaveChangesWithHooks(DbContext context, Action`1 onSaveCompleted, CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Entities\PlatformDbContextExtensions.cs:line 42
   --- End of inner exception stack trace ---
   at PlatformFramework.EFCore.Entities.PlatformDbContextExtensions.SaveChangesWithHooks(DbContext context, Action`1 onSaveCompleted, CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Entities\PlatformDbContextExtensions.cs:line 58
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5.SaveChanges(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5.CreateAsync(TRole role, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.RoleManager`1.CreateAsync(TRole role)
   at Web.Service.ProjectDbContextSeedProvider.Seed(CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\samples\Web.Service\ProjectDbContextSeedProvider.cs:line 30
   at PlatformFramework.EFCore.Context.Migrations.DbContextMigrationsInitializer`1.ExecuteAsync(CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Context\Migrations\DbContextMigrationsInitializer.cs:line 41
2020-09-11 16:17:54.150 +03:00 [INF] User profile is available. Using 'C:\Users\Max\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-11 16:17:54.265 +03:00 [INF] Queued Hosted Service is starting.
2020-09-11 16:17:54.541 +03:00 [INF] Migrating database associated with context ProjectDbContext
2020-09-11 16:17:55.409 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2020-09-11 16:17:55.495 +03:00 [INF] Entity Framework Core 3.1.8 initialized 'ProjectDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Web.Service, Version=0.5.4.0, Culture=neutral, PublicKeyToken=null 
2020-09-11 16:17:56.199 +03:00 [INF] Now listening on: https://localhost:5001
2020-09-11 16:17:56.200 +03:00 [INF] Now listening on: http://localhost:5000
2020-09-11 16:17:56.201 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-11 16:17:56.201 +03:00 [INF] Hosting environment: Development
2020-09-11 16:17:56.201 +03:00 [INF] Content root path: C:\work\Github\PlatformFramework\samples\Web.Service
2020-09-11 16:17:56.832 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 16:17:56.919 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 16:17:57.164 +03:00 [INF] Executed DbCommand (196ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2020-09-11 16:17:57.231 +03:00 [INF] No migrations were applied. The database is already up to date.
2020-09-11 16:17:57.665 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 16:18:02.243 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 16:18:02.442 +03:00 [ERR] Failed executing DbCommand (18ms) [Parameters=[@p0='a85298cb-8d8b-4a8e-bb9e-5149a5788aeb', @p1='Administrator', @p2='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2020-09-11 16:18:02.509 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Web.Service.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, a85298cb-8d8b-4a8e-bb9e-5149a5788aeb).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, a85298cb-8d8b-4a8e-bb9e-5149a5788aeb).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-09-11 16:18:02.946 +03:00 [ERR] An error occurred while migrating the database used on context ProjectDbContext
PlatformFramework.EFCore.Exceptions.DbException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, a85298cb-8d8b-4a8e-bb9e-5149a5788aeb).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PlatformFramework.EFCore.Entities.PlatformDbContextExtensions.SaveChangesWithHooks(DbContext context, Action`1 onSaveCompleted, CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Entities\PlatformDbContextExtensions.cs:line 42
   --- End of inner exception stack trace ---
   at PlatformFramework.EFCore.Entities.PlatformDbContextExtensions.SaveChangesWithHooks(DbContext context, Action`1 onSaveCompleted, CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Entities\PlatformDbContextExtensions.cs:line 58
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5.SaveChanges(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5.CreateAsync(TRole role, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.RoleManager`1.CreateAsync(TRole role)
   at Web.Service.ProjectDbContextSeedProvider.Seed(CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\samples\Web.Service\ProjectDbContextSeedProvider.cs:line 30
   at PlatformFramework.EFCore.Context.Migrations.DbContextMigrationsInitializer`1.ExecuteAsync(CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Context\Migrations\DbContextMigrationsInitializer.cs:line 41
2020-09-11 16:18:53.824 +03:00 [INF] User profile is available. Using 'C:\Users\Max\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-11 16:18:53.916 +03:00 [INF] Queued Hosted Service is starting.
2020-09-11 16:18:54.154 +03:00 [INF] Migrating database associated with context ProjectDbContext
2020-09-11 16:18:54.750 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2020-09-11 16:18:54.811 +03:00 [INF] Entity Framework Core 3.1.8 initialized 'ProjectDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Web.Service, Version=0.5.4.0, Culture=neutral, PublicKeyToken=null 
2020-09-11 16:18:55.309 +03:00 [INF] Now listening on: https://localhost:5001
2020-09-11 16:18:55.310 +03:00 [INF] Now listening on: http://localhost:5000
2020-09-11 16:18:55.310 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-11 16:18:55.311 +03:00 [INF] Hosting environment: Development
2020-09-11 16:18:55.311 +03:00 [INF] Content root path: C:\work\Github\PlatformFramework\samples\Web.Service
2020-09-11 16:18:55.730 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 16:18:55.808 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 16:18:55.834 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2020-09-11 16:18:55.853 +03:00 [INF] No migrations were applied. The database is already up to date.
2020-09-11 16:18:56.109 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 16:18:57.307 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 16:19:26.118 +03:00 [ERR] Failed executing DbCommand (70ms) [Parameters=[@p0='c94adca4-af2e-49d5-8bf9-b0bb94bc3841', @p1='Administrator', @p2='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2020-09-11 16:19:26.184 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Web.Service.ProjectDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, c94adca4-af2e-49d5-8bf9-b0bb94bc3841).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: нулевое значение в столбце "Id" нарушает ограничение NOT NULL
    Detail: Ошибочная строка содержит (null, Administrator, ADMINISTRATOR, c94adca4-af2e-49d5-8bf9-b0bb94bc3841).
    SchemaName: public
    TableName: AspNetRoles
    ColumnName: Id
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\executor\execmain.c
    Line: 1974
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-09-11 16:22:11.080 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2020-09-11 16:22:11.198 +03:00 [INF] Entity Framework Core 3.1.8 initialized 'ProjectDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Web.Service, Version=0.5.4.0, Culture=neutral, PublicKeyToken=null 
2020-09-11 16:22:29.518 +03:00 [INF] User profile is available. Using 'C:\Users\Max\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-11 16:22:29.615 +03:00 [INF] Queued Hosted Service is starting.
2020-09-11 16:22:29.845 +03:00 [INF] Migrating database associated with context ProjectDbContext
2020-09-11 16:22:30.440 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2020-09-11 16:22:30.509 +03:00 [INF] Entity Framework Core 3.1.8 initialized 'ProjectDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Web.Service, Version=0.5.4.0, Culture=neutral, PublicKeyToken=null 
2020-09-11 16:22:31.023 +03:00 [INF] Now listening on: https://localhost:5001
2020-09-11 16:22:31.023 +03:00 [INF] Now listening on: http://localhost:5000
2020-09-11 16:22:31.024 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-11 16:22:31.024 +03:00 [INF] Hosting environment: Development
2020-09-11 16:22:31.024 +03:00 [INF] Content root path: C:\work\Github\PlatformFramework\samples\Web.Service
2020-09-11 16:22:31.442 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 16:22:31.518 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 16:22:31.540 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2020-09-11 16:22:31.561 +03:00 [INF] Applying migration '20200911132211_IdentityDbContextFix'.
2020-09-11 16:22:31.636 +03:00 [ERR] Failed executing DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserTokens" ALTER COLUMN "UserId" TYPE bigint;
ALTER TABLE "AspNetUserTokens" ALTER COLUMN "UserId" SET NOT NULL;
ALTER TABLE "AspNetUserTokens" ALTER COLUMN "UserId" DROP DEFAULT;
2020-09-11 16:22:31.750 +03:00 [ERR] An error occurred while migrating the database used on context ProjectDbContext
Npgsql.PostgresException (0x80004005): 42804: столбец "UserId" нельзя автоматически привести к типу bigint
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IEnumerable`1 migrationCommands, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at PlatformFramework.EFCore.Context.Migrations.DbContextMigrationsInitializer`1.ExecuteAsync(CancellationToken cancellationToken) in C:\work\Github\PlatformFramework\src\PlatformFramework.EFCore\Context\Migrations\DbContextMigrationsInitializer.cs:line 38
  Exception data:
    Severity: ОШИБКА
    SqlState: 42804
    MessageText: столбец "UserId" нельзя автоматически привести к типу bigint
    Hint: Возможно, необходимо указать "USING "UserId"::bigint".
    File: d:\pginstaller_12.auto\postgres.windows-x64\src\backend\commands\tablecmds.c
    Line: 10394
    Routine: ATPrepAlterColumnType
2020-09-11 16:23:26.475 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2020-09-11 16:23:26.569 +03:00 [INF] Entity Framework Core 3.1.8 initialized 'ProjectDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Web.Service, Version=0.5.4.0, Culture=neutral, PublicKeyToken=null 
2020-09-11 16:23:38.301 +03:00 [INF] User profile is available. Using 'C:\Users\Max\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-11 16:23:38.398 +03:00 [INF] Queued Hosted Service is starting.
2020-09-11 16:23:38.637 +03:00 [INF] Migrating database associated with context ProjectDbContext
2020-09-11 16:23:39.278 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2020-09-11 16:23:39.340 +03:00 [INF] Entity Framework Core 3.1.8 initialized 'ProjectDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Web.Service, Version=0.5.4.0, Culture=neutral, PublicKeyToken=null 
2020-09-11 16:23:39.868 +03:00 [INF] Now listening on: https://localhost:5001
2020-09-11 16:23:39.868 +03:00 [INF] Now listening on: http://localhost:5000
2020-09-11 16:23:39.869 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-11 16:23:39.869 +03:00 [INF] Hosting environment: Development
2020-09-11 16:23:39.869 +03:00 [INF] Content root path: C:\work\Github\PlatformFramework\samples\Web.Service
2020-09-11 16:23:41.641 +03:00 [INF] Executed DbCommand (1,401ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "PlatformDb";
2020-09-11 16:23:42.031 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2020-09-11 16:23:42.118 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 16:23:42.133 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2020-09-11 16:23:42.160 +03:00 [INF] Applying migration '20200911132326_IdentityDbContext'.
2020-09-11 16:23:42.245 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(256) NULL,
    "NormalizedName" character varying(256) NULL,
    "ConcurrencyStamp" text NULL,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2020-09-11 16:23:42.258 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    "UserName" character varying(256) NULL,
    "NormalizedUserName" character varying(256) NULL,
    "Email" character varying(256) NULL,
    "NormalizedEmail" character varying(256) NULL,
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text NULL,
    "SecurityStamp" text NULL,
    "ConcurrencyStamp" text NULL,
    "PhoneNumber" text NULL,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone NULL,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id")
);
2020-09-11 16:23:42.271 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "TableTest" (
    "Id" integer NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    "NewTitle" text NULL,
    "SecondProperty" text NULL,
    CONSTRAINT "PK_TableTest" PRIMARY KEY ("Id")
);
2020-09-11 16:23:42.287 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" bigint NOT NULL,
    "ClaimType" text NULL,
    "ClaimValue" text NULL,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2020-09-11 16:23:42.297 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    "UserId" bigint NOT NULL,
    "ClaimType" text NULL,
    "ClaimValue" text NULL,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2020-09-11 16:23:42.310 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" text NOT NULL,
    "ProviderKey" text NOT NULL,
    "ProviderDisplayName" text NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2020-09-11 16:23:42.319 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" bigint NOT NULL,
    "RoleId" bigint NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2020-09-11 16:23:42.331 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" bigint NOT NULL,
    "LoginProvider" text NOT NULL,
    "Name" text NOT NULL,
    "Value" text NULL,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2020-09-11 16:23:42.338 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2020-09-11 16:23:42.343 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2020-09-11 16:23:42.348 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2020-09-11 16:23:42.353 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2020-09-11 16:23:42.358 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2020-09-11 16:23:42.363 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2020-09-11 16:23:42.369 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2020-09-11 16:23:42.371 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20200911132326_IdentityDbContext', '3.1.8');
2020-09-11 16:23:42.686 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 16:23:45.421 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 16:23:49.511 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='9d7eeb28-34a2-4c46-95e9-e50e9f7691a3', @p1='Administrator', @p2='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2020-09-11 16:24:04.459 +03:00 [INF] User profile is available. Using 'C:\Users\Max\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-11 16:24:04.553 +03:00 [INF] Queued Hosted Service is starting.
2020-09-11 16:24:04.798 +03:00 [INF] Migrating database associated with context ProjectDbContext
2020-09-11 16:24:05.383 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2020-09-11 16:24:05.442 +03:00 [INF] Entity Framework Core 3.1.8 initialized 'ProjectDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Web.Service, Version=0.5.4.0, Culture=neutral, PublicKeyToken=null 
2020-09-11 16:24:05.973 +03:00 [INF] Now listening on: https://localhost:5001
2020-09-11 16:24:05.974 +03:00 [INF] Now listening on: http://localhost:5000
2020-09-11 16:24:05.974 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-11 16:24:05.975 +03:00 [INF] Hosting environment: Development
2020-09-11 16:24:05.975 +03:00 [INF] Content root path: C:\work\Github\PlatformFramework\samples\Web.Service
2020-09-11 16:24:06.385 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 16:24:06.463 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 16:24:06.485 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2020-09-11 16:24:06.503 +03:00 [INF] No migrations were applied. The database is already up to date.
2020-09-11 16:24:09.665 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 16:24:11.089 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='ADMIN'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2020-09-11 16:24:15.396 +03:00 [WRN] User null password validation failed: PasswordTooShort;PasswordRequiresNonAlphanumeric;PasswordRequiresDigit;PasswordRequiresUpper.
2020-09-11 16:24:16.624 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='ADMIN'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2020-09-11 16:25:25.970 +03:00 [INF] User profile is available. Using 'C:\Users\Max\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-11 16:25:26.068 +03:00 [INF] Queued Hosted Service is starting.
2020-09-11 16:25:26.316 +03:00 [INF] Migrating database associated with context ProjectDbContext
2020-09-11 16:25:26.985 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2020-09-11 16:25:27.059 +03:00 [INF] Entity Framework Core 3.1.8 initialized 'ProjectDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Web.Service, Version=0.5.4.0, Culture=neutral, PublicKeyToken=null 
2020-09-11 16:25:27.563 +03:00 [INF] Now listening on: https://localhost:5001
2020-09-11 16:25:27.563 +03:00 [INF] Now listening on: http://localhost:5000
2020-09-11 16:25:27.565 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-11 16:25:27.565 +03:00 [INF] Hosting environment: Development
2020-09-11 16:25:27.565 +03:00 [INF] Content root path: C:\work\Github\PlatformFramework\samples\Web.Service
2020-09-11 16:25:28.029 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 16:25:28.118 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 16:25:28.146 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2020-09-11 16:25:28.169 +03:00 [INF] No migrations were applied. The database is already up to date.
2020-09-11 16:25:43.035 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 16:25:43.378 +03:00 [INF] Executed DbCommand (110ms) [Parameters=[@__normalizedUserName_0='ADMIN'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2020-09-11 16:25:45.157 +03:00 [WRN] User null password validation failed: PasswordRequiresUpper.
2020-09-11 16:26:51.335 +03:00 [INF] User profile is available. Using 'C:\Users\Max\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-11 16:26:51.423 +03:00 [INF] Queued Hosted Service is starting.
2020-09-11 16:26:51.655 +03:00 [INF] Migrating database associated with context ProjectDbContext
2020-09-11 16:26:52.257 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2020-09-11 16:26:52.320 +03:00 [INF] Entity Framework Core 3.1.8 initialized 'ProjectDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Web.Service, Version=0.5.4.0, Culture=neutral, PublicKeyToken=null 
2020-09-11 16:26:52.818 +03:00 [INF] Now listening on: https://localhost:5001
2020-09-11 16:26:52.818 +03:00 [INF] Now listening on: http://localhost:5000
2020-09-11 16:26:52.819 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-11 16:26:52.819 +03:00 [INF] Hosting environment: Development
2020-09-11 16:26:52.819 +03:00 [INF] Content root path: C:\work\Github\PlatformFramework\samples\Web.Service
2020-09-11 16:26:53.257 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 16:26:53.333 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 16:26:53.356 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2020-09-11 16:26:53.375 +03:00 [INF] No migrations were applied. The database is already up to date.
2020-09-11 16:26:53.635 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 16:26:53.709 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='ADMIN'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2020-09-11 16:26:56.315 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='ADMIN'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2020-09-11 16:26:56.527 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='0', @p1='a38ea431-efed-49f0-b318-a9772e9d4b86', @p2=NULL, @p3='False', @p4='True', @p5=NULL (DbType = DateTimeOffset), @p6=NULL, @p7='ADMIN', @p8='AQAAAAEAACcQAAAAEOAoISV4aBohoXQdWj6cUgzv6akxUzk1u/bRbLmupKNXEKfa6+qlIBJmSqpZSv62jg==', @p9=NULL, @p10='False', @p11='Y3CRH7PFFYFHLEIYZMCRV2NRR7OPOJVW', @p12='False', @p13='admin'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
2020-09-11 16:26:58.111 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='ADMIN'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2020-09-11 16:27:02.489 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2020-09-11 16:27:02.550 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='1', @__p_1='1'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE (a."UserId" = @__p_0) AND (a."RoleId" = @__p_1)
LIMIT 1
2020-09-11 16:27:03.929 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2020-09-11 16:27:03.969 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='1', @__p_1='1'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE (a."UserId" = @__p_0) AND (a."RoleId" = @__p_1)
LIMIT 1
2020-09-11 16:27:03.977 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2020-09-11 16:27:03.995 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='ADMIN'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2020-09-11 16:27:04.017 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='1', @p1='1', @p16='1', @p2='0', @p3='b86ca98d-6b20-4a12-9458-759f050103d2', @p17='a38ea431-efed-49f0-b318-a9772e9d4b86', @p4=NULL, @p5='False', @p6='True', @p7=NULL (DbType = DateTimeOffset), @p8=NULL, @p9='ADMIN', @p10='AQAAAAEAACcQAAAAEOAoISV4aBohoXQdWj6cUgzv6akxUzk1u/bRbLmupKNXEKfa6+qlIBJmSqpZSv62jg==', @p11=NULL, @p12='False', @p13='Y3CRH7PFFYFHLEIYZMCRV2NRR7OPOJVW', @p14='False', @p15='admin'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("UserId", "RoleId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15
WHERE "Id" = @p16 AND "ConcurrencyStamp" = @p17;
2020-09-11 16:27:33.929 +03:00 [INF] User profile is available. Using 'C:\Users\Max\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-11 16:27:34.033 +03:00 [INF] Queued Hosted Service is starting.
2020-09-11 16:27:34.261 +03:00 [INF] Migrating database associated with context ProjectDbContext
2020-09-11 16:27:34.905 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2020-09-11 16:27:34.972 +03:00 [INF] Entity Framework Core 3.1.8 initialized 'ProjectDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: SensitiveDataLoggingEnabled MigrationsAssembly=Web.Service, Version=0.5.4.0, Culture=neutral, PublicKeyToken=null 
2020-09-11 16:27:35.525 +03:00 [INF] Now listening on: https://localhost:5001
2020-09-11 16:27:35.525 +03:00 [INF] Now listening on: http://localhost:5000
2020-09-11 16:27:35.526 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-11 16:27:35.526 +03:00 [INF] Hosting environment: Development
2020-09-11 16:27:35.527 +03:00 [INF] Content root path: C:\work\Github\PlatformFramework\samples\Web.Service
2020-09-11 16:27:35.967 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 16:27:36.057 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2020-09-11 16:27:36.084 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2020-09-11 16:27:36.106 +03:00 [INF] No migrations were applied. The database is already up to date.
2020-09-11 16:27:36.377 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2020-09-11 16:27:36.452 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='ADMIN'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2020-09-11 16:27:39.606 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='ADMINISTRATOR'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2020-09-11 16:27:39.669 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='1', @__p_1='1'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE (a."UserId" = @__p_0) AND (a."RoleId" = @__p_1)
LIMIT 1
2020-09-11 16:27:43.178 +03:00 [INF] Migrated database associated with context ProjectDbContext
